webpackJsonp([82],{ADdd:function(t,a,e){var s=e("i4NH");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("8bSs")("3e7d2ad5",s,!0)},LENb:function(t,a,e){"use strict";function s(t){e("ADdd")}Object.defineProperty(a,"__esModule",{value:!0});var o=e("2sCs"),n=e.n(o),d=e("x1ym"),l=e("lcoF"),i={mixins:[l.a],data:function(){var t=d.a.required();d.a.number();return{dataInfo:{},setps:[],roles:[],defaultRole:{},ftp_div_show:!1,guestbookTypes:[],rules:{ctgId:[t],content:[t],reply:[t],title:[t]}}},methods:{getDataInfo:function(t){var a=this;this.$api;n.a.post(this.$api.guestbookGet,{id:t}).then(function(t){a.loading=!1,a.dataInfo=t.body,n.a.post(a.$api.guestbookTypeList).then(function(e){"200"==t.code&&(a.guestbookTypes=e.body,a.guestbookTypes.length>0&&(a.dataInfo.ctgId=a.guestbookTypes[0].id))}),a.dataInfo.checked=1,a.dataInfo.recommend=!0}).catch(function(t){a.loading=!1})},update:function(t){this.updateDataInfo(this.$api.guestbookUpdate,this.dataInfo,"list")},add:function(t){this.saveDataInfo(t,this.$api.guestbookSave,this.dataInfo,"list")}},created:function(){this.getDataInfo(this.id)}},r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"cms-body"},[e("cms-back"),t._v(" "),e("el-form",{ref:"form",staticClass:"cms-form",attrs:{model:t.dataInfo,rules:t.rules,"label-width":"162px"}},[e("el-form-item",{staticClass:"flex-50 ",attrs:{label:"留言类型",prop:"ctgId"}},[e("el-select",{staticClass:"cms-width",model:{value:t.dataInfo.ctgId,callback:function(a){t.$set(t.dataInfo,"ctgId",a)},expression:"dataInfo.ctgId"}},t._l(t.guestbookTypes,function(a,s){return e("el-option",{key:s,attrs:{label:t.guestbookTypes[s].name,value:t.guestbookTypes[s].id}})}))],1),t._v(" "),e("el-form-item",{staticClass:"flex-50 ",attrs:{label:"标题",prop:"title"}},[e("el-input",{staticClass:"cms-width",model:{value:t.dataInfo.title,callback:function(a){t.$set(t.dataInfo,"title",a)},expression:"dataInfo.title"}})],1),t._v(" "),e("el-form-item",{staticClass:"flex-100",attrs:{label:"留言内容",prop:"content"}},[e("el-input",{staticClass:"cms-width",attrs:{type:"textarea"},model:{value:t.dataInfo.content,callback:function(a){t.$set(t.dataInfo,"content",a)},expression:"dataInfo.content"}})],1),t._v(" "),e("el-form-item",{staticClass:"flex-100",attrs:{label:"回复内容",prop:"reply"}},[e("el-input",{staticClass:"cms-width",attrs:{type:"textarea"},model:{value:t.dataInfo.reply,callback:function(a){t.$set(t.dataInfo,"reply",a)},expression:"dataInfo.reply"}})],1),t._v(" "),e("el-form-item",{staticClass:"flex-50 ",attrs:{label:"邮箱",prop:"priority"}},[e("el-input",{staticClass:"cms-width",model:{value:t.dataInfo.email,callback:function(a){t.$set(t.dataInfo,"email",a)},expression:"dataInfo.email"}})],1),t._v(" "),e("el-form-item",{staticClass:"flex-50 ",attrs:{label:"电话"}},[e("el-input",{staticClass:"cms-width",model:{value:t.dataInfo.phone,callback:function(a){t.$set(t.dataInfo,"phone",a)},expression:"dataInfo.phone"}})],1),t._v(" "),e("el-form-item",{staticClass:"flex-50 ",attrs:{label:"QQ"}},[e("el-input",{staticClass:"cms-width",attrs:{type:"number"},model:{value:t.dataInfo.qq,callback:function(a){t.$set(t.dataInfo,"qq",a)},expression:"dataInfo.qq"}})],1),t._v(" "),e("el-form-item",{staticClass:"flex-50 ",attrs:{label:"审核"}},[e("el-radio-group",{staticClass:"cms-width",model:{value:t.dataInfo.checked,callback:function(a){t.$set(t.dataInfo,"checked",a)},expression:"dataInfo.checked"}},[e("el-radio",{attrs:{label:0}},[t._v("待审核")]),t._v(" "),e("el-radio",{attrs:{label:1}},[t._v("通过")]),t._v(" "),e("el-radio",{attrs:{label:2}},[t._v("不通过")])],1)],1),t._v(" "),e("el-form-item",{staticClass:"flex-50 ",attrs:{label:"推荐"}},[e("el-radio-group",{staticClass:"cms-width",model:{value:t.dataInfo.recommend,callback:function(a){t.$set(t.dataInfo,"recommend",a)},expression:"dataInfo.recommend"}},[e("el-radio",{attrs:{label:!0}},[t._v("是")]),t._v(" "),e("el-radio",{attrs:{label:!1}},[t._v("否")])],1)],1),t._v(" "),e("el-form-item",{staticClass:"flex-50 "}),t._v(" "),e("div",{staticClass:"form-footer"},[t.isType("save")?e("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/guestbook/save",expression:"'/guestbook/save'"}],attrs:{type:"warning"},on:{click:function(a){t.add(!0)}}},[t._v("\n              提交并继续添加\n            ")]):t._e(),t._v(" "),t.isType("save")?e("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/guestbook/save",expression:"'/guestbook/save'"}],attrs:{type:"primary"},on:{click:function(a){t.add(!1)}}},[t._v("\n              提交\n            ")]):t._e(),t._v(" "),t.isType("update")?e("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/guestbook/update",expression:"'/guestbook/update'"}],attrs:{type:"primary"},on:{click:function(a){t.update()}}},[t._v("\n             修改\n            ")]):t._e(),t._v(" "),e("el-button",{attrs:{type:"info"},on:{click:t.reset}},[t._v("重置")]),t._v(" "),t.isType("save")?e("span",{staticClass:"gray"},[t._v("选择“提交并继续添加”按钮会停留在添加页面；选择“提交”按钮后将跳转到对应的列表页")]):t._e()],1)],1)],1)},c=[],f={render:r,staticRenderFns:c},p=f,m=e("Mw9A"),b=s,u=m(i,p,!1,b,"data-v-56b6d3a6",null);a.default=u.exports},i4NH:function(t,a,e){a=t.exports=e("BkJT")(!1),a.push([t.i,"\n.el-input-group[data-v-56b6d3a6]{\r\n  width: 20%;\n}\n.cms-body .cms-form .flex-100[data-v-56b6d3a6],.cms-body .cms-form .flex-50[data-v-56b6d3a6]{\r\n  border-top: 1px dashed #eee;\n}\n.cms-body .cms-form .flex-no-border[data-v-56b6d3a6]{\r\n border-top: 0px dashed #eee;\n}\n.cms-body .cms-col1[data-v-56b6d3a6]{\r\n  width: 10%\n}\n.cms-body .cms-col2[data-v-56b6d3a6]{\r\n  width: 20%\n}\n.cms-body .cms-col3[data-v-56b6d3a6]{\r\n  width: 30%\n}\n.cms-body .cms-col4[data-v-56b6d3a6]{\r\n  width: 40%\n}\n.cms-body .cms-col5[data-v-56b6d3a6]{\r\n  width: 50%\n}\n.cms-body .cms-col6[data-v-56b6d3a6]{\r\n  width: 60%\n}\n.cms-body .cms-col7[data-v-56b6d3a6]{\r\n  width: 70%\n}\n.cms-body .cms-col8[data-v-56b6d3a6]{\r\n  width: 80%\n}\n.cms-body .cms-col9[data-v-56b6d3a6]{\r\n  width: 90%\n}\n.cms-body .cms-col10[data-v-56b6d3a6]{\r\n  width: 100%\n}\n.ftp-div[data-v-56b6d3a6]{\r\n  padding: 15px 0 15px 162px;\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n  font-size: 14px;\n}\n.ftp-item[data-v-56b6d3a6]{\r\n  background-color: #fbfdff;\r\n  border: 1px #eee dotted;\r\n  padding: 15px 15px ;\n}\n.ftp-item[data-v-56b6d3a6]{\r\n  line-height:50px;\n}\n.ftp-item > div >div[data-v-56b6d3a6]{\r\n  display: inline-block;\n}\n.gray[data-v-56b6d3a6]{\r\n  font-size: 14px;\n}\n.el-form-item__error[data-v-56b6d3a6] {\r\n    left: 84%;\n}\r\n",""])}});